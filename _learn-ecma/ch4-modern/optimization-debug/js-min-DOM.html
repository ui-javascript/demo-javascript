<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>优化DOM操作 实际不可运行</title>
    <!-- <link rel="stylesheet" href=""> -->
</head>
<body>

<script>
// 变量保存以便后续使用
var header = document.getElementById("header"),
    nav = document.getElementById("nav");

header.className += " " + nav.className;



// 多个元素都位于同一父元素下
var wrapper = document.getElementById("wrapper"),
    header = wrapper.getElementsByTagName("header")[0],
    nav = wrapper.getElementsByTagName("nav")[0];

header.className += " " + nav.className;   



// DOM修改后再添加至实时页面，避免不断刷
var list = document.createElement("ul"),
    listItem = document.createElement("li");

// Perform all the DOM manipulation possible within JavaScript first
listItem.innerHTML = "I am a list item";
list.appendChild(listItem);

// Finally, add the element to the page when you are sure you no longer need to alter it
// before display
document.body.appendChild(list);



// 复制已经存在的而不是重新create
var list1 = document.createElement("ul"),
    list2,
    listItem1 = document.createElement("li"),
    listItem2,
    listItem3;

listItem1.className = "list-item";
listItem1.innerHTML = "I am a list item";

// The cloneNode method duplicates the element efficiently. Setting the optional parameter
// to ‘true’ also copies across any child elements and properties. Leaving this property out
// copies just the individual element itself
listItem2 = listItem1.cloneNode(true);
listItem3 = listItem1.cloneNode(true);

// Add the three list items to the unordered list element
list1.appendChild(listItem1);
list1.appendChild(listItem2);
list1.appendChild(listItem3);

// Duplicate the entire unordered list
list2 = list1.cloneNode(true);

// Add the two identical unordered list elements to the live page
document.body.appendChild(list1);
document.body.appendChild(list2); 
</script>    
</body>
</html>