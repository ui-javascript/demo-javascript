<!doctype html>
<html>
<head>
    <!--
    [有用blog](http://www.cnblogs.com/yaozhenfa/p/js_mustache.html)
     -->
    <meta charset="utf-8">
    <title>部分模板</title>
</head>
<body>

<div id="content"></div>
<script id="template" type="x-tmpl-mustache">
    <h1>People</h1>
    {{>people}}
</script>

<script id="people" type="x-tmpl-mustache">
    {{#people}}
        <p>Name:{{name}}</p>
    {{>people}}
</script>

<script id="demo" type="x-tmpl-mustache">
    <h2>Names</h2>
    {{#names}} {{>user}} {{/names}}
</script>



<script src="http://cdn.bootcss.com/mustache.js/2.1.1/mustache.js"></script>
<!--     <script src="../src/js/libs/mustache.min.js"></script> -->
<script>

// var templateElement = document.getElementById("template"),
//     peopleTemplateElement = document.getElementById("people"),

//     template = templateElement.innerHTML,
//     peopleTemplate = peopleTemplateElement.innerHTML,

//     outputElement = document.createElement("div"),
//     data = {
//         "people": [{
//             "name": "Den Odell"
//         }, {
//             "name": "Bill Gates"
//         }]
//     };

// outputElement.innerHTML = Mustache.render(template, data, { people: peopleTemplate });
// // Add the new element, populated with HTML, to the current page once loaded
// window.addEventListener("load", function() {
//     document.body.appendChild(outputElement);
// }, false);

var view = {
    names: [
        { "name": "y" },
        { "name": "z" },
        { "name": "f" }
    ]
};

var base = document.getElementById("demo").innerHTML;
// var base = "<h2>Names</h2>{{#names}}{{>user}}{{/names}}";
var name = "<b>{{name}}</b>";
// Mustache.render(base, view, { user: name });
var output = Mustache.render(base, view, { user: name });

var target = document.getElementById("content");
target.innerHTML = output;

</script>
</body>
</html>